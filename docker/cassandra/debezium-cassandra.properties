# Debezium Cassandra CDC Agent Configuration
# This configuration file defines how the Debezium agent monitors Cassandra CDC
# and publishes change events to Kafka.

# ============================================================================
# Kafka Connection Settings
# ============================================================================
kafka.producer.bootstrap.servers=kafka:9092
kafka.producer.key.serializer=org.apache.kafka.common.serialization.StringSerializer
kafka.producer.value.serializer=org.apache.kafka.common.serialization.StringSerializer

# ============================================================================
# Cassandra Connection Settings
# ============================================================================
cassandra.hosts=localhost
cassandra.port=9042
cassandra.username=cassandra
cassandra.password=cassandra

# ============================================================================
# CDC Monitoring Settings
# ============================================================================
# Directory where Cassandra writes CDC commit logs
commit.log.relocation.dir=/var/lib/cassandra/cdc_raw

# ============================================================================
# Topic Naming and Event Publishing
# ============================================================================
# Prefix for Kafka topics (will create topics like: cdc-events.warehouse.users)
kafka.topic.prefix=cdc-events

# ============================================================================
# Snapshot Settings
# ============================================================================
# Take initial snapshot of existing data
snapshot.mode=initial
snapshot.consistency=all

# ============================================================================
# Table Filter Settings
# ============================================================================
# Only capture changes from warehouse keyspace
cassandra.keyspace.include.list=warehouse
cassandra.table.include.list=warehouse.users,warehouse.orders,warehouse.sessions

# ============================================================================
# Performance Tuning
# ============================================================================
max.batch.size=2048
max.queue.size=8192
poll.interval.ms=1000

# ============================================================================
# Offset Storage (for tracking CDC progress)
# ============================================================================
offset.storage=org.apache.kafka.connect.storage.KafkaOffsetBackingStore
offset.storage.topic=cdc-offsets
offset.storage.replication.factor=1
offset.storage.partitions=1

# ============================================================================
# Schema History (for tracking schema changes)
# ============================================================================
schema.history.internal=org.apache.kafka.connect.storage.KafkaSchemaHistory
schema.history.internal.kafka.topic=cdc-schema-history
schema.history.internal.kafka.bootstrap.servers=kafka:9092

# ============================================================================
# Logging
# ============================================================================
log.level=INFO
